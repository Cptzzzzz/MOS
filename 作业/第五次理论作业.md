1. **有五个进程P1、P2、P3、P4、P5，它们同时依次进入就绪队列，它们的优先数和需要的处理器时间如下表:**

   | 进程 | 处理器时间 | 优先级 |
   | ---- | ---------- | ------ |
   | P1   | 10         | 3      |
   | P2   | 1          | 1      |
   | P3   | 2          | 3      |
   | P4   | 1          | 4      |
   | P5   | 5          | 2      |

   **忽略进行调度等所花费的时间，回答下列问题：**

   1. **写出采用“先来先服务”、“短作业(进程)优先”、“非抢占式的优先数”和“轮转法”等调度算法，进程执行的次序。(其中轮转法的时间片为2)**

      四种调度算法下五个进程的执行顺序如下图所示：

      ![在这里插入图片描述](https://img-blog.csdnimg.cn/20200604121622865.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0plcmVteVpoYW8xOTk4,size_16,color_FFFFFF,t_70)

   2. **分别计算上述算法中各进程的周转时间和等待时间，以及平均周转时间。**

   先来先服务：

   | 进程 | 周转时间 | 等待时间 | 执行时间 |
   | ---- | -------- | -------- | -------- |
   | P1   | 10       | 0        | 10       |
   | P2   | 11       | 10       | 1        |
   | P3   | 13       | 11       | 2        |
   | P4   | 14       | 13       | 1        |
   | P5   | 19       | 14       | 5        |

   平均周转时间：（10+11+13+14+19）/5=13.4

   短作业优先：

   | 进程 | 周转时间 | 等待时间 | 执行时间 |
   | ---- | -------- | -------- | -------- |
   | P1   | 19       | 9        | 10       |
   | P2   | 1        | 0        | 1        |
   | P3   | 4        | 2        | 2        |
   | P4   | 2        | 1        | 1        |
   | P5   | 9        | 14       | 5        |

   平均周转时间：（19+1+4+2+9）/5=7

   非抢占式优先数：

   | 进程 | 周转时间 | 等待时间 | 执行时间 |
   | ---- | -------- | -------- | -------- |
   | P1   | 16       | 6        | 10       |
   | P2   | 1        | 0        | 1        |
   | P3   | 18       | 16       | 2        |
   | P4   | 19       | 18       | 1        |
   | P5   | 6        | 1        | 5        |

   平均周转时间：（16+1+18+19+6）/5=12

   时间片轮转（时间片为2）：

   | 进程 | 周转时间 | 等待时间 | 执行时间 |
   | ---- | -------- | -------- | -------- |
   | P1   | 19       | 9        | 10       |
   | P2   | 3        | 2        | 1        |
   | P3   | 5        | 3        | 2        |
   | P4   | 6        | 5        | 1        |
   | P5   | 15       | 10       | 5        |

   平均周转时间：（19+3+5+6+15）/5=9.6

2. **死锁产生的四个必要条件**

   - 互斥条件：资源是独占的且排他使用，进程互斥使用资源，即任意时刻一个资源只能给一个进程使用，其他进程若申请一个资源，而该资源被另一进程占有时，则申请者等待直到资源被占有者释放。
   - 不可剥夺条件：进程所获得的资源在未使用完毕之前，不被其他进程强行剥夺，而只能由获得该资源的进程资源释放。
   - 请求和保持条件：进程每次申请它所需要的一部分资源，在申请新的资源的同时，继续占用已分配到的资源。
   - 循环等待条件：在发生死锁时必然存在一个进程等待队列{P1,P2,…,Pn},其中P1等待P2占有的资源，P2等待P3占有的资源，…，Pn等待P1占有的资源，形成一个进程等待环路，环路中每一个进程所占有的资源同时被另一个申请，也就是前一个进程占有后一个进程所深情地资源。
   
2. **某系统中有n个进程和m台打印机，系统约定：打印机只能一台一台地申请、一台一台地释放，每个进程需要同时使用的打印机台数不超过m。如果n个进程同时需要使用打印机的总数小于m+n，试讨论，该系统可能发生死锁吗?并简述理由。**

   假设每个进程可以申请最多x台打印机，则当每个进程都申请了x-1台打印机，则当其中某一个进程再申请一台打印机时，如果不足则必然发生死锁，此时有$n(x-1)+1>m$,而如果可以申请则该进程结束后释放x个进程，这样一定不会死锁。
   
   故如果发生死锁，必有$n(x-1)+1>m$，即$nx>m+n+1$,与题目中$nx<n+m$矛盾，故一定不可能发生死锁。
   
2. **线程的基本概念是什么？引入线程的好处是什么？**

   1. 线程是轻量级的进程，在一个进程内部可以存在一个或多个线程，进程与进程之间是不能共享内存的，进程之间的消息通信不方便，但是一个进程内部的线程之间是共享这个进程的内存空间的，线程之间通信很方便。
   2. 如以上讲的，线程之间共享内存。比如，一个文字输入软件，其内部可以有三个线程，一个用来响应鼠标、键盘的交互线程，一个用来运算，另一个用来备份。因为进程之间不共享内存，所以不能用多个进程来实现这时就用多线程可以解决。线程之间共享内存，所以从一个线程切换到另一个线程不需要陷入内核，也不需要切换上下文，线程之间的切换比进程切换快捷。

2. **一个系统有4个进程和5个可分配资源，当前分配和最大需求如下：**

   |       | 已分配资源 | 最大需求量 | 资源需求量 |
   | ----- | ---------- | ---------- | ---------- |
   | 进程A | 10211      | 11213      | 01002      |
   | 进程B | 20110      | 22210      | 02100      |
   | 进程C | 11010      | 21310      | 10300      |
   | 进程D | 11110      | 11221      | 00111      |
   
   **可用资源为00x12，若保持该状态是安全状态，那么x的最小值是多少？**
   
   若 x 为 0，资源无法满足任何进程的需求，系统立刻进入不安全状态；
   
   若 x 为 1，进程 D 可分配资源首先运行，D 结束后可用资源向量为 11222，进程 A 可分配资源运行，结束后可用资源向量为 21433，此时进程 C 可分配资源运行，C 结束后可用资源向量为 32443，可满足进程 B 需求，所有进程运行完毕。
   
   故 x 最小值为 1。
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   